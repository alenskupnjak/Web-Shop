@model Movies.Models.Product

@{
	ViewData["Title"] = Model.Title;
}

<h1>@Html.DisplayFor(model => model.Title)</h1>

<div id="imagecarousel" class="carousel slide" data-bs-touch="false" data-bs-interval="false" style="text-align:center">
	<div class="carousel-inner" style="text-align:center">
		@{

			if (Model.ProductImages.Count == 0)
			{
				<div class="carousel-item active">
					<img src="~/images/noimage.png" class="d-block w-auto m-auto" alt="@Model.Title" height="400px">
				</div>
			}

			var i = 0;
			foreach (var item in Model.ProductImages)
			{
				if (i == 0)
				{
					<div class="carousel-item active">
						<img src="@item.FileName" class="d-block w-auto m-auto" alt="@Model.Title" height="400px">
					</div>
				}
				else
				{
					<div class="carousel-item">
						<img src="@item.FileName" class="d-block w-auto m-auto" alt="@Model.Title" height="400px" style="text-align:center">
					</div>
				}
				i++;
			}
		}
	</div>

	@{
		if (Model.ProductImages.Count > 1)
		{
			<button class="carousel-control-prev" type="button" data-bs-target="#imagecarousel" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#imagecarousel" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Next</span>
			</button>
		}
		}
	}
</div>



<hr />
<div>
	<dl class="row">
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Title)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Title)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Description)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Description)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Active)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Active)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Quantity)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Quantity)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Price)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Price)
		</dd>
		<dt class="col-sm-2">
		</dt>
		<dd class="col-sm-2">
			<form method="post" asp-controller="Cart" asp-action="AddToCart">
				<input type="hidden" name="productId" value="@Model.Id" />
				<input type="submit" class="btn btn-success btn-sm" value="Add to cart">
			</form>
		</dd>
	</dl>
</div>
<div>
	<a asp-action="Product" asp-route-id="">Back to Products</a>
</div>
